const getUserId = require('./getUserId')
const crawler = require('./crawler')

const isInterget = (n) => parseInt(n) == n

module.exports = (userInfo, concurrency = 5) => {
  
  const userId = getUserId(String(userInfo))

  if (!userId) throw `the provided user info is invalid`
  if (!isInterget(concurrency)) throw `concurrency expected an interger`

  return crawler(userId, concurrency)

}