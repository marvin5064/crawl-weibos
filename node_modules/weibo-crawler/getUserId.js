// http://weibo.com/p/1005052146965345/home?from=page_100505_profile&wvr=6&mod=data#place
const parseType1Url = (url) => {
  const match = url.match(/com\/p\/(\d+)\//)
  return match && match[1].slice(6)
}

// http://weibo.com/u/2146965345?topnav=1&wvr=6&topsug=1
const parseType2Url = (url) => {
  const match = url.match(/com\/u\/(\d+)/)
  return match && match[1]
}

// 2146965345 
// findout if all user ids are 10 digits.
const parseUserId = (str) => (
  str.match(/^\d{10}$/) && str
)

module.exports = (userInfo) => 
  parseType1Url(userInfo) || 
  parseType2Url(userInfo) || 
  parseUserId(userInfo)
